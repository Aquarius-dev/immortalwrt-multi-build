name: Build ImmortalWrt
on:
  workflow_dispatch: # 支持手动触发
  schedule:
    - cron: "0 20 * * *"

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup ImmortalWrt Build Environment
        run: |
          sudo bash <(curl -s https://build-scripts.immortalwrt.org/init_build_environment.sh)

      - name: Clone ImmortalWrt Source
        run: |
          git clone https://github.com/immortalwrt/immortalwrt.git --depth=1
          cd immortalwrt
